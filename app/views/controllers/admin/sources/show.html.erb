<div class="mb-6 flex justify-between items-center">
  <h2 class="h2 text-text-primary">ソース詳細: <%= @source.name %></h2>
  <div class="flex space-x-3">
    <%= link_to edit_admin_source_path(@source), class: "inline-flex items-center px-4 py-2 border border-border shadow-sm body-sm rounded-md text-text-secondary bg-white hover:bg-object-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-focus-ring" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="-ml-1 mr-2 h-5 w-5 text-text-muted" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
      </svg>
      編集
    <% end %>
    <%= link_to admin_sources_path, class: "inline-flex items-center px-4 py-2 border border-border shadow-sm body-sm rounded-md text-text-secondary bg-white hover:bg-object-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-focus-ring" do %>
      戻る
    <% end %>
  </div>
</div>

<div class="bg-white shadow rounded-lg overflow-hidden mb-8">
  <div class="px-4 py-5 sm:px-6 border-b border-border">
    <h3 class="h3 text-text-primary">基本情報</h3>
  </div>
  <div class="border-t border-border px-4 py-5 sm:p-0">
    <dl class="sm:divide-y sm:divide-border">
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">名前</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.name %></dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">Slug</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.slug %></dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">説明</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.description %></dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">タイプ</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.source_type %></dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">URL</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2">
          <%= link_to @source.url, @source.url, target: "_blank", class: "text-primary hover:underline" if @source.url.present? %>
        </dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">RSS URL</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2">
          <%= link_to @source.rss_url, @source.rss_url, target: "_blank", class: "text-primary hover:underline" if @source.rss_url.present? %>
        </dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">作成日</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.created_at.strftime("%Y/%m/%d %H:%M:%S") %></dd>
      </div>
      <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="body-sm text-text-muted">更新日</dt>
        <dd class="mt-1 body-sm text-text-primary sm:mt-0 sm:col-span-2"><%= @source.updated_at.strftime("%Y/%m/%d %H:%M:%S") %></dd>
      </div>
    </dl>
  </div>
</div>

<div class="bg-white shadow rounded-lg overflow-hidden">
  <div class="px-6 py-4 border-b border-border flex justify-between items-center">
    <h3 class="h3 text-text-primary">最近の記事 (最新10件)</h3>
    <span class="body-sm text-text-muted">全 <%= @source.items.count %> 件</span>
  </div>
  <div class="overflow-x-auto">
    <table class="min-w-full divide-y divide-border">
      <thead class="bg-background-muted">
        <tr>
          <th scope="col" class="px-6 py-3 text-left body-xs text-text-muted uppercase tracking-wider">タイトル</th>
          <th scope="col" class="px-6 py-3 text-left body-xs text-text-muted uppercase tracking-wider">公開日</th>
          <th scope="col" class="px-6 py-3 text-left body-xs text-text-muted uppercase tracking-wider">取得日</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-border">
        <% @source.items.order(published_at: :desc).limit(10).each do |item| %>
          <tr>
            <td class="px-6 py-4">
              <div class="body-sm text-text-primary">
                <%= link_to item.title, item.url, target: "_blank", class: "hover:underline" %>
              </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap body-sm text-text-muted">
              <%= l item.published_at, format: :long %>
            </td>
            <td class="px-6 py-4 whitespace-nowrap body-sm text-text-muted">
              <%= l item.created_at, format: :long %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
