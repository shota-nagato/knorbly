<%= component("container/app") do %>
  <%= link_to @feed.url, target: "_blank" do %>
    <%= component(:heading, size: :h1, text: @feed.name) %>
  <% end %>
  <div class="body-sm text-text-secondary mt-2"><%= @feed.description %></div>

  <div class="flex items-center justify-between mt-2 px-2">
    <div class="flex items-center gap-2">
      <span class="body-sm text-text-muted">10 followers</span>
      <span class="body-sm text-text-muted">100 articles</span>
    </div>
    <%= component(:button, size: :sm) { "follow" } %>
  </div>

  <div class="mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2">
    <% @articles.each do |article| %>
      <%= link_to article.url, class: "hover:bg-background rounded-md p-2", target: "_blank" do %>
        <% if article.image_url.present? %>
          <%= image_tag article.image_url, class: "w-full h-40 object-cover rounded-md mb-1" %>
        <% end %>
        <div class="body line-clamp-2"><%= article.title %></div>
        <div class="body-xs text-text-secondary line-clamp-3"><%= article.summary %></div>
        <div class="flex items-center gap-2 mt-1">
          <div class="flex items-center gap-1">
            <%= icon("calendar", css: "w-4 h-4") %>
            <div class="body-xs text-text-secondary"><%= l article.published_at.to_date %></div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>
